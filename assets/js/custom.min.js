jQuery(document).ready(function(i){function e(){var e=i("#sidebar .logo.wrapper"),t=i("#site-header");i(window).on("resize ready",function(){var a=window.innerWidth-i(window).width();i(this).width()>600-a?e.css({height:t.css("height")}):e.css({height:""})})}function t(){var e=i("#colophon"),t=i("#sidebar"),a=i(window);0!==t.length&&a.on("scroll resize ready",function(){var o=Number(e.offset().top),n=Number(a.scrollTop())+Number(a.height()),r=Number(t.height()),s=window.innerWidth-i(window).width(),l=t.find(".nav.wrapper"),c=l.outerHeight()+l.offset().top,h=c>r+a.scrollTop();i(this).width()>600-s?(n>=o&&(h?t.css({position:"absolute",bottom:0,left:0,height:o-a.scrollTop()+"px",top:"inherit","overflow-y":"scroll"}):t.css({position:"absolute",bottom:0,left:0,height:r+"px",top:"inherit"})),n<o&&t.css({position:"",bottom:"",left:"",height:"",top:"","overflow-y":""})):t.css({position:"",bottom:"",left:"",height:"",top:"","overflow-y":""})})}function a(){function e(){l=setTimeout(function(){$custom_navigation.filter(".active").removeClass("active");var t=a.filter(".active").removeClass("active").animate({left:"-100%"},1e3,function(){i(this).css({left:"100%"})}),o=t.index()!==a.length-1?t.next():a.eq(0);$custom_navigation.eq(o.index()).addClass("active"),o.addClass("active").animate({left:"0"},1e3),e()},6e3)}var t=i("#home-primary .slider .das-slider"),a=t.css({position:"relative",overflow:"hidden"}).find(".slides .slide");if(!(a.length<1||(a.eq(0).css({position:"absolute",width:"100%",height:"100%",top:0,left:0}).addClass("active"),a.length<2))){for(var o=i('<li><div class="rectangle"></div></li>'),n=i("<ul></ul>").append(o.clone()),r=1;r<a.length;r++){var s=a.eq(r);s.css({position:"absolute",width:"100%",height:"100%",top:0,left:"100%"}),n.append(o.clone())}i("#home-primary .slider").append(i('<div class="slider-nav"></div>').append(n)),$custom_navigation=i("#home-primary .slider .slider-nav ul li"),$custom_navigation.eq(0).addClass("active");var l;e(),$custom_navigation.on("click",function(){var e=i(this).index();clearTimeout(l),l=setTimeout(function(){a.index(a.filter(".active"))!==e&&($custom_navigation.filter(".active").removeClass("active"),a.filter(".active").removeClass("active").animate({left:"-100%"},1e3,function(){i(this).css({left:"100%"})}),$custom_navigation.eq(e).addClass("active"),a.eq(e).addClass("active").animate({left:"0"},1e3))},1)})}}i("[href]").each(function(){this.href==window.location.href&&i(this).addClass("active")}),i(".flexslider").flexslider({animation:"slide",slideshow:!1,directionNav:!0,start:function(){i(".flexslider").parents(".clear-bottom").eq(0).find(".js-f-blocks").matchHeight()}}),i(".is-container").each(function(){$container=i(this).imagesLoaded(function(){$container.isotope({itemSelector:".item",percentPosition:!0,masonry:{gutter:0}}).parents(".clear-bottom").eq(0).find(".js-i-blocks").matchHeight()})}),i("a.gallery").colorbox({rel:"gal",width:"80%",height:"80%"}),i(".js-blocks").matchHeight(),(new WOW).init(),e(),t(),i("#site-header .company-info-nav.wrapper.right-column > i.mobile.hamburger").on("click",function(){i("#site-header .company-info-nav.wrapper.right-column > nav.mobile").animate({right:0})}),i("#site-header .company-info-nav.wrapper.right-column > nav.mobile > i.mobile.hamburger").on("click",function(){var e=i("#site-header .company-info-nav.wrapper.right-column > nav.mobile");e.animate({right:"-100%"})}),i("#homepage-sidebar > i.mobile.hamburger").on("click",function(){i("#homepage-sidebar > nav.mobile").animate({right:0})}),i("#homepage-sidebar > nav.mobile > i.mobile.hamburger").on("click",function(){var e=i("#homepage-sidebar > nav.mobile");e.animate({right:"-100%"})}),i(".gallery .thumbnail img.thumbnail-img").each(function(){var e=i(this).attr("data-full-url"),t=i("<img>").css({display:"none"}).attr("src",e);i("body").append(t)}),i(".gallery .thumbnail img.thumbnail-img").on("click",function(){var e=i(this).attr("data-full-url");i(".gallery .featured-image img").attr("src",e)}),a(),i(window).on("ready resize",function(){i(".video").not(".wrapper").each(function(){var e=i(this),t=2.7*Number(e.width())/4+"px";e.css({height:t}).find("iframe").css({height:t})}),i(".map").not(".wrapper").each(function(){var e=i(this),t=Number(e.width())+"px";e.css({height:t}).find("iframe").attr("width",t).attr("height",t)})})});